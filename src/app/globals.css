@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #1e3a5f;
  --navy: #1e3a5f;
  --gray: #64748b;
  --teal: #0891b2;
  --light-gray: #f8fafc;
  --border: #e2e8f0;

  /* Enhanced Shadow System */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

  /* Colored Shadows for Brand Accent */
  --shadow-teal: 0 10px 30px -5px rgba(8, 145, 178, 0.3);
  --shadow-navy: 0 10px 30px -5px rgba(30, 58, 95, 0.3);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-inter), system-ui, sans-serif;
  line-height: 1.6;
}

/* Locale-aware font optimization */
html[lang="ja"] body {
  font-family: var(--font-noto-sans-jp), var(--font-inter), system-ui, sans-serif;
}

html[lang="en"] body {
  font-family: var(--font-inter), system-ui, sans-serif;
}

/* Enhanced Typography System */
h1 {
  font-weight: 700;
  line-height: 1.1;
  letter-spacing: -0.025em;
}

h2 {
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.025em;
}

h3 {
  font-weight: 600;
  line-height: 1.3;
}

p {
  line-height: 1.7;
}

/* Improved spacing utilities */
.section-spacing {
  @apply py-20 md:py-24 lg:py-32;
}

.content-spacing {
  @apply space-y-6 md:space-y-8 lg:space-y-12;
}

.grid-gap-enhanced {
  @apply gap-6 md:gap-8 lg:gap-10 xl:gap-12;
}

/* Enhanced interactive elements */
.btn-primary {
  @apply bg-teal text-white px-8 py-4 lg:px-10 lg:py-5 rounded-lg font-semibold 
         transition-all duration-200 
         focus:outline-none focus:ring-2 focus:ring-teal focus:ring-offset-2
         shadow-lg hover:shadow-xl transform hover:-translate-y-0.5;
}

.btn-primary:hover {
  background-color: rgba(8, 145, 178, 0.9); /* teal with 90% opacity */
}

.btn-secondary {
  @apply border-2 border-white text-white px-6 py-3 lg:px-8 lg:py-4 rounded-lg font-semibold
         hover:bg-white hover:text-navy transition-all duration-200
         focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-navy
         transform hover:-translate-y-0.5 opacity-90 hover:opacity-100;
}

.btn-secondary-solid {
  @apply bg-navy text-white border-2 border-navy px-6 py-3 lg:px-8 lg:py-4 rounded-lg font-semibold
         hover:bg-white hover:text-navy hover:border-navy transition-all duration-300
         focus:outline-none focus:ring-2 focus:ring-navy focus:ring-offset-2
         shadow-md hover:shadow-xl transform hover:-translate-y-1;
}

.card-enhanced {
  @apply bg-white rounded-xl border transition-all duration-200 
         hover:shadow-xl transform hover:-translate-y-1;
  border-color: var(--border);
}

.card-enhanced:hover {
  border-color: rgba(8, 145, 178, 0.2); /* teal with 20% opacity */
}

/* Focus styles for accessibility */
*:focus {
  outline: 2px solid var(--teal);
  outline-offset: 2px;
}

/* Smooth scrolling with fixed header offset */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 5rem; /* 80px for fixed header height + padding */
}

/* Stable Navigation Layout - Prevents header layout shift between locales */
.nav-item-stable {
  @apply inline-flex items-center justify-center text-center min-w-0 transition-colors duration-200;
}

/* Specific widths for navigation items to maintain consistency */
.nav-item-home {
  min-width: 4rem; /* 64px */
}

.nav-item-services {
  min-width: 5rem; /* 80px */
}

.nav-item-about {
  min-width: 4rem; /* 64px */
}

.nav-item-contact {
  min-width: 5rem; /* 80px */
}

.nav-item-cta {
  min-width: 7rem; /* 112px */
}

/* Company logo stable width with single-line constraint */
.company-logo-stable {
  @apply flex-shrink-0;
  /* Dynamic width based on locale */
  min-width: 16rem; /* 256px - minimum for English */
  max-width: 24rem; /* 384px - maximum for Japanese */
  white-space: nowrap; /* CRITICAL: Prevents line wrapping */
  overflow: hidden; /* Prevents overflow on extreme cases */
}

/* Locale-specific width optimizations */
html[lang="ja"] .company-logo-stable {
  min-width: 20rem; /* 320px - optimized for Japanese */
  max-width: 26rem; /* 416px - extended for longer Japanese text */
}

html[lang="en"] .company-logo-stable {
  min-width: 14rem; /* 224px - optimized for English */
  max-width: 18rem; /* 288px - sufficient for English */
}

/* Company logo link styling with responsive font sizing */
.company-logo-stable a {
  @apply text-navy hover:text-teal font-bold transition-colors duration-200;
  /* Responsive font sizing to accommodate different text lengths */
  font-size: 1.5rem; /* 24px base */
  line-height: 1.2;
  display: block;
  white-space: nowrap; /* Reinforces single-line display */
  text-overflow: ellipsis; /* Graceful degradation on extreme cases */
  overflow: hidden;
}

/* Locale-specific font size adjustments */
html[lang="ja"] .company-logo-stable a {
  font-size: 1.375rem; /* 22px - slightly smaller for Japanese */
}

html[lang="en"] .company-logo-stable a {
  font-size: 1.5rem; /* 24px - standard for English */
}

/* Mobile responsiveness for company logo */
@media (max-width: 640px) {
  .company-logo-stable {
    min-width: 12rem; /* 192px */
    max-width: 18rem; /* 288px */
  }
  
  .company-logo-stable a {
    font-size: 1.25rem; /* 20px on mobile */
  }
  
  html[lang="ja"] .company-logo-stable a {
    font-size: 1.125rem; /* 18px for Japanese on mobile */
  }
}

/* Tablet responsiveness */
@media (min-width: 641px) and (max-width: 768px) {
  .company-logo-stable {
    min-width: 16rem; /* 256px */
    max-width: 22rem; /* 352px */
  }
}

/* Header layout optimization for Japanese text */
html[lang="ja"] header .flex.justify-between {
  /* Ensure enough space allocation for Japanese company name */
  gap: 0.75rem; /* 12px gap between elements */
}

html[lang="ja"] header .hidden.md\\:flex.space-x-8 {
  /* Reduce navigation spacing on Japanese version to accommodate longer logo */
  gap: 1.5rem; /* 24px instead of 32px (space-x-8) */
}

/* Prevent navigation items from wrapping on smaller screens with long Japanese text */
@media (min-width: 768px) and (max-width: 1024px) {
  html[lang="ja"] .hidden.md\\:flex.space-x-8 {
    gap: 1rem; /* 16px on medium screens */
  }
  
  html[lang="ja"] .nav-item-stable {
    font-size: 0.875rem; /* 14px - slightly smaller navigation text */
  }
}

/* Enhanced form styles */
.form-input {
  @apply w-full px-4 py-3 lg:px-5 lg:py-4 border rounded-lg 
         focus:ring-2 focus:ring-teal focus:border-teal transition-all duration-200
         disabled:cursor-not-allowed;
  border-color: var(--border);
  background-color: white;
}

.form-input:disabled {
  background-color: var(--light-gray);
}

.form-select {
  @apply w-full px-4 py-3 lg:px-5 lg:py-4 border rounded-lg 
         focus:ring-2 focus:ring-teal focus:border-teal transition-all duration-200
         disabled:cursor-not-allowed bg-white;
  border-color: var(--border);
}

.form-select:disabled {
  background-color: var(--light-gray);
}

.form-textarea {
  @apply w-full px-4 py-3 lg:px-5 lg:py-4 border rounded-lg 
         focus:ring-2 focus:ring-teal focus:border-teal transition-all duration-200
         disabled:cursor-not-allowed;
  border-color: var(--border);
  background-color: white;
  resize: vertical;
}

.form-textarea:disabled {
  background-color: var(--light-gray);
}

/* ============================================
   MODERN UI ENHANCEMENT SYSTEM
   ============================================ */

/* Enhanced Spacing System */
.section-spacing-xl {
  @apply py-28 md:py-36 lg:py-44 xl:py-52;
}

.section-spacing-lg {
  @apply py-24 md:py-32 lg:py-40;
}

.section-spacing-sm {
  @apply py-16 md:py-20 lg:py-24;
}

.content-spacing-xl {
  @apply space-y-10 md:space-y-14 lg:space-y-16;
}

.content-spacing-lg {
  @apply space-y-8 md:space-y-12 lg:space-y-16;
}

.grid-gap-2xl {
  @apply gap-10 md:gap-14 lg:gap-16 xl:gap-20;
}

.grid-gap-xl {
  @apply gap-8 md:gap-12 lg:gap-14 xl:gap-16;
}

/* Container System with Breathing Room */
.container-narrow {
  @apply max-w-4xl mx-auto px-6 sm:px-8 lg:px-10;
}

.container-standard {
  @apply max-w-6xl mx-auto px-6 sm:px-8 lg:px-10;
}

.container-wide {
  @apply max-w-7xl mx-auto px-6 sm:px-10 lg:px-12;
}

/* Card Elevation System */
.card-elevated {
  @apply bg-white rounded-2xl transition-all duration-300;
  box-shadow: var(--shadow-md);
}

.card-elevated:hover {
  box-shadow: var(--shadow-xl);
  transform: translateY(-4px);
}

.card-floating {
  @apply bg-white rounded-2xl;
  box-shadow: var(--shadow-lg);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-floating:hover {
  box-shadow: var(--shadow-2xl);
  transform: translateY(-8px) scale(1.02);
}

/* Button Depth Enhancement */
.btn-primary-elevated {
  @apply bg-teal text-white px-8 py-4 lg:px-10 lg:py-5 rounded-xl font-semibold;
  box-shadow: var(--shadow-lg);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-primary-elevated:hover {
  box-shadow: var(--shadow-teal);
  transform: translateY(-2px);
  background-color: rgba(8, 145, 178, 0.9);
}

.btn-primary-elevated:active {
  transform: translateY(0);
  box-shadow: var(--shadow-md);
}

/* Glassmorphism Effects */
.glass-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: var(--shadow-lg);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-card:hover {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  box-shadow: var(--shadow-xl);
}

.glass-card-dark {
  background: rgba(30, 58, 95, 0.6);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient Backgrounds */
.gradient-bg-primary {
  /* グラデーションを削除し、単色のダークブルーに統一 */
  /* よりミニマルで落ち着いた、力強い印象を実現 */
  background: #1e3a5f;
}

.gradient-bg-light {
  /* 右側25%の範囲でのみグラデーションがかかるように調整 */
  background: linear-gradient(135deg,
    rgba(248, 250, 252, 1) 0%,
    rgba(248, 250, 252, 1) 75%,
    rgba(8, 145, 178, 0.08) 100%
  );
}

.gradient-overlay {
  position: relative;
}

.gradient-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg,
    rgba(8, 145, 178, 0.1) 0%,
    rgba(30, 58, 95, 0.05) 100%
  );
  pointer-events: none;
}

/* ============================================
   ANIMATION SYSTEM
   ============================================ */

/* Scroll Animation Keyframes */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-40px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(40px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Animation Utility Classes */
.animate-on-scroll {
  opacity: 0;
  transition: none;
}

.animate-on-scroll.is-visible {
  animation-duration: 0.8s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

.fade-in-up.is-visible {
  animation-name: fadeInUp;
}

.fade-in-left.is-visible {
  animation-name: fadeInLeft;
}

.fade-in-right.is-visible {
  animation-name: fadeInRight;
}

.scale-in.is-visible {
  animation-name: scaleIn;
}

/* Stagger Delays for Sequential Animations */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }

/* Page Transition Animations */
@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageExit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

.page-transition-enter {
  animation: pageEnter 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.page-transition-exit {
  animation: pageExit 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Micro-Interactions */
.btn-interactive {
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-interactive::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn-interactive:hover::before {
  width: 300px;
  height: 300px;
}

.btn-interactive:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
}

.btn-interactive:active {
  transform: translateY(0);
  box-shadow: var(--shadow-md);
}

.card-interactive {
  position: relative;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-interactive::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  opacity: 0;
  background: linear-gradient(135deg,
    rgba(8, 145, 178, 0.05) 0%,
    rgba(30, 58, 95, 0.05) 100%
  );
  transition: opacity 0.4s ease;
  pointer-events: none;
}

.card-interactive:hover::after {
  opacity: 1;
}

.card-interactive:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow: var(--shadow-2xl);
}

/* Link Underline Animation */
.link-animated {
  position: relative;
  display: inline-block;
  text-decoration: none;
  transition: color 0.3s ease;
}

.link-animated::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: currentColor;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.link-animated:hover::after {
  width: 100%;
}

/* Accessibility - Respect Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
